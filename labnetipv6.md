- memo

RA

```
Network address: fdaa:abcd:ffff:aaaa::/64

DNS addr deployed RDNSS: fe80::1,fdaa:abcd:ffff:aaaa::53
```

Router host 

```
 hostname: ob63(OpenBSD 6.3)

 fdaa:abcd:ffff:aaaa::53(ULA)

 fe80::1(LLA)
```

/etc/hostname.*ifname*

```
...
inet6  fe80::1
inet6  fdaa:abcd:ffff:aaaa::53 64
```

- set option for rtadvd

/etc/rc.conf

```
rtadvd_flags=NO
```

to 

```
rtadvd_flags="ifname"
```
or

```
rtadvd_flags=""
```

```
# cat /etc/rc.conf | grep rtadvd 
rtadvd_flags="ifname"             # for normal use: list of interfaces
```
- sysctl 
```
# sysctl net.inet6.ip6.forwarding=1
# sysctl net.inet6.ip6.mforwarding=1
```

(/etc/sysctl.conf)
```
...
net.inet6.ip6.forwarding=1
net.inet6.ip6.mforwarding=1
...
```
system reboot 

Endpoint(Linux: Fedora 28 ) 

```
# nmcli con show ens3 |grep ipv6
ipv6.method:                            auto
ipv6.dns:                               --
ipv6.dns-search:                        --
ipv6.dns-options:                       ""
ipv6.dns-priority:                      0
ipv6.addresses:                         --
ipv6.gateway:                           --
ipv6.routes:                            --
ipv6.route-metric:                      -1
ipv6.route-table:                       0 (unspec)
ipv6.ignore-auto-routes:                いいえ
ipv6.ignore-auto-dns:                   いいえ
ipv6.never-default:                     いいえ
ipv6.may-fail:                          はい
ipv6.ip6-privacy:                       -1 (不明)
ipv6.addr-gen-mode:                     stable-privacy
ipv6.dhcp-send-hostname:                はい
ipv6.dhcp-hostname:                     --
ipv6.token:                             --

# nmcli con show ens3 |grep IP6
IP6.ADDRESS[1]:                         fdaa:abcd:ffff:aaaa:4436:84be:f22e:2811/64
IP6.ADDRESS[2]:                         fe80::4b06:e193:ef96:36f9/64
IP6.GATEWAY:                            fe80::1
IP6.ROUTE[1]:                           dst = fdaa:abcd:ffff:aaaa::/64, nh = ::, mt = 100
IP6.ROUTE[2]:                           dst = ::/0, nh = fe80::1, mt = 100
IP6.ROUTE[3]:                           dst = ff00::/8, nh = ::, mt = 256, table=255
IP6.ROUTE[4]:                           dst = fe80::/64, nh = ::, mt = 256
IP6.ROUTE[5]:                           dst = fe80::/64, nh = ::, mt = 100
IP6.DNS[1]:                             fdaa:abcd:ffff:aaaa::53
IP6.DNS[2]:                             fe80::1

```

```
# ip -6 a
...
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 state UNKNOWN qlen 1000
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: ens3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 state UP qlen 1000
    inet6 fdaa:abcd:ffff:aaaa:4436:84be:f22e:2811/64 scope global dynamic noprefixroute 
       valid_lft 2591540sec preferred_lft 604340sec
    inet6 fe80::4b06:e193:ef96:36f9/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
```


```
# ip -6 route
fdaa:abcd:ffff:aaaa::/64 dev ens3 proto ra metric 100 pref medium
fe80::/64 dev ens3 proto kernel metric 100 pref medium
fe80::/64 dev ens3 proto kernel metric 256 pref medium
default via fe80::1 dev ens3 proto ra metric 100 pref medium
```

/etc/resolv.conf 

```
# Generated by NetworkManager
nameserver dns\_of\_ipv4address
nameserver fdaa:abcd:ffff:aaaa::53
nameserver fe80::1%ens3
```
